enum PaymentRequestStatus {
  PENDING
  APPROVED
  DECLINED
}

model PaymentRequest {
  id          String   @id @default(uuid()) @db.Uuid

  merchantId  String   @db.Uuid
  merchant    Merchant @relation(fields: [merchantId], references: [id])

  customerId  String   @db.Uuid
  customer    User     @relation(fields: [customerId], references: [id])

  amount      Decimal  @db.Decimal(14,2)
  comment     String?  @db.Text

  status      PaymentRequestStatus @default(PENDING)

  shownToUser     Boolean @default(false)
  shownToMerchant Boolean @default(false)

  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([merchantId, status])
  @@index([customerId, status])
  @@map("payment_requests")
}
